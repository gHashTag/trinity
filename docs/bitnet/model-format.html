<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-bitnet/model-format" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.9.2">
<title data-rh="true">GGUF Model Format | Trinity</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://gHashTag.github.io/trinity/docs/img/trinity-social-card.png"><meta data-rh="true" name="twitter:image" content="https://gHashTag.github.io/trinity/docs/img/trinity-social-card.png"><meta data-rh="true" property="og:url" content="https://gHashTag.github.io/trinity/docs/bitnet/model-format"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="GGUF Model Format | Trinity"><meta data-rh="true" name="description" content="Trinity reads model weights from GGUF (GPT-Generated Unified Format) files, the standard format used by the llama.cpp ecosystem. This page documents how Trinity parses GGUF v3 files and what model configurations are supported."><meta data-rh="true" property="og:description" content="Trinity reads model weights from GGUF (GPT-Generated Unified Format) files, the standard format used by the llama.cpp ecosystem. This page documents how Trinity parses GGUF v3 files and what model configurations are supported."><link data-rh="true" rel="icon" href="/trinity/docs/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://gHashTag.github.io/trinity/docs/bitnet/model-format"><link data-rh="true" rel="alternate" href="https://gHashTag.github.io/trinity/docs/bitnet/model-format" hreflang="en"><link data-rh="true" rel="alternate" href="https://gHashTag.github.io/trinity/docs/bitnet/model-format" hreflang="x-default"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"GGUF Model Format","item":"https://gHashTag.github.io/trinity/docs/bitnet/model-format"}]}</script><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.0/dist/katex.min.css" integrity="sha384-Xi8rHCmBmhbuyyhbI88391ZKP2dmfnOl4rT9ZfRI7mLTdk1wblIUnrIq35nqwEvC" crossorigin="anonymous"><link rel="stylesheet" href="/trinity/docs/assets/css/styles.469fa185.css">
<script src="/trinity/docs/assets/js/runtime~main.c8c765da.js" defer="defer"></script>
<script src="/trinity/docs/assets/js/main.496369f7.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<svg style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",t||(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light")),document.documentElement.setAttribute("data-theme-choice",t||"system")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><link rel="preload" as="image" href="/trinity/docs/img/logo.svg"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="theme-layout-navbar navbar navbar--fixed-top"><div class="navbar__inner"><div class="theme-layout-navbar-left navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/trinity/docs/"><div class="navbar__logo"><img src="/trinity/docs/img/logo.svg" alt="Trinity Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/trinity/docs/img/logo.svg" alt="Trinity Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">Trinity</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/trinity/docs/">Documentation</a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><a href="https://github.com/gHashTag/trinity" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="system mode" aria-label="Switch between dark and light mode (currently system mode)"><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP systemToggleIcon_QzmC"><path fill="currentColor" d="m12 21c4.971 0 9-4.029 9-9s-4.029-9-9-9-9 4.029-9 9 4.029 9 9 9zm4.95-13.95c1.313 1.313 2.05 3.093 2.05 4.95s-0.738 3.637-2.05 4.95c-1.313 1.313-3.093 2.05-4.95 2.05v-14c1.857 0 3.637 0.737 4.95 2.05z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/trinity/docs/"><span title="Trinity Documentation" class="linkLabel_WmDU">Trinity Documentation</span></a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/trinity/docs/overview/introduction"><span title="Overview" class="categoryLinkLabel_W154">Overview</span></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/trinity/docs/getting-started/quickstart"><span title="Getting Started" class="categoryLinkLabel_W154">Getting Started</span></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/trinity/docs/concepts"><span title="Concepts" class="categoryLinkLabel_W154">Concepts</span></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" href="/trinity/docs/bitnet"><span title="BitNet Integration" class="categoryLinkLabel_W154">BitNet Integration</span></a></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/trinity/docs/bitnet"><span title="BitNet Integration" class="linkLabel_WmDU">BitNet Integration</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/trinity/docs/bitnet/inference"><span title="Inference Pipeline" class="linkLabel_WmDU">Inference Pipeline</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/trinity/docs/bitnet/model-format"><span title="GGUF Model Format" class="linkLabel_WmDU">GGUF Model Format</span></a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/trinity/docs/hdc"><span title="HDC Applications" class="categoryLinkLabel_W154">HDC Applications</span></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/trinity/docs/vibee"><span title="VIBEE Language" class="categoryLinkLabel_W154">VIBEE Language</span></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/trinity/docs/benchmarks"><span title="Benchmarks" class="categoryLinkLabel_W154">Benchmarks</span></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/trinity/docs/deployment"><span title="Deployment" class="categoryLinkLabel_W154">Deployment</span></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/trinity/docs/api"><span title="API Reference" class="categoryLinkLabel_W154">API Reference</span></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/trinity/docs/architecture/overview"><span title="Architecture" class="categoryLinkLabel_W154">Architecture</span></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/trinity/docs/math-foundations"><span title="Mathematical Foundations" class="categoryLinkLabel_W154">Mathematical Foundations</span></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/trinity/docs/research"><span title="Research" class="categoryLinkLabel_W154">Research</span></a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/trinity/docs/faq"><span title="FAQ" class="linkLabel_WmDU">FAQ</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/trinity/docs/troubleshooting"><span title="Troubleshooting" class="linkLabel_WmDU">Troubleshooting</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/trinity/docs/contributing"><span title="Contributing to Trinity" class="linkLabel_WmDU">Contributing to Trinity</span></a></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/trinity/docs/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">BitNet Integration</span></li><li class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link">GGUF Model Format</span></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>GGUF Model Format</h1></header>
<p>Trinity reads model weights from GGUF (GPT-Generated Unified Format) files, the standard format used by the llama.cpp ecosystem. This page documents how Trinity parses GGUF v3 files and what model configurations are supported.</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="gguf-v3-file-structure">GGUF v3 File Structure<a href="#gguf-v3-file-structure" class="hash-link" aria-label="Direct link to GGUF v3 File Structure" title="Direct link to GGUF v3 File Structure" translate="no">​</a></h2>
<p>A GGUF file is organized into four sequential sections:</p>
<ol>
<li class="">
<p><strong>Header</strong>: Begins with the magic bytes <code>0x46554747</code> (&quot;GGUF&quot; in little-endian ASCII), followed by the format version number (3), the count of metadata key-value pairs, and the count of tensors.</p>
</li>
<li class="">
<p><strong>Metadata</strong>: A sequence of key-value pairs that describe the model architecture, tokenizer configuration, and training parameters. Each entry consists of a length-prefixed string key, a type tag, and the corresponding value.</p>
</li>
<li class="">
<p><strong>Tensor Descriptors</strong>: For each tensor, the file records the name (string), number of dimensions, shape (array of dimension sizes), quantization type (enum), and byte offset into the data section. Tensors are aligned to 32-byte boundaries by default.</p>
</li>
<li class="">
<p><strong>Tensor Data</strong>: The raw weight data for all tensors, laid out contiguously and aligned according to the alignment parameter. Trinity reads this data directly into memory for inference.</p>
</li>
</ol>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="metadata-value-types">Metadata Value Types<a href="#metadata-value-types" class="hash-link" aria-label="Direct link to Metadata Value Types" title="Direct link to Metadata Value Types" translate="no">​</a></h2>
<p>The GGUF format supports the following value types for metadata entries:</p>
<table><thead><tr><th>Type ID</th><th>Name</th><th>Description</th></tr></thead><tbody><tr><td>0</td><td>UINT8</td><td>Unsigned 8-bit integer</td></tr><tr><td>1</td><td>INT8</td><td>Signed 8-bit integer</td></tr><tr><td>2</td><td>UINT16</td><td>Unsigned 16-bit integer</td></tr><tr><td>3</td><td>INT16</td><td>Signed 16-bit integer</td></tr><tr><td>4</td><td>UINT32</td><td>Unsigned 32-bit integer</td></tr><tr><td>5</td><td>INT32</td><td>Signed 32-bit integer</td></tr><tr><td>6</td><td>FLOAT32</td><td>32-bit IEEE 754 float</td></tr><tr><td>7</td><td>BOOL</td><td>Boolean (1 byte)</td></tr><tr><td>8</td><td>STRING</td><td>Length-prefixed UTF-8 string</td></tr><tr><td>9</td><td>ARRAY</td><td>Typed array with element type and count</td></tr><tr><td>10</td><td>UINT64</td><td>Unsigned 64-bit integer</td></tr><tr><td>11</td><td>INT64</td><td>Signed 64-bit integer</td></tr><tr><td>12</td><td>FLOAT64</td><td>64-bit IEEE 754 double</td></tr></tbody></table>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="supported-quantization-types">Supported Quantization Types<a href="#supported-quantization-types" class="hash-link" aria-label="Direct link to Supported Quantization Types" title="Direct link to Supported Quantization Types" translate="no">​</a></h2>
<p>Trinity&#x27;s GGUF reader recognizes a wide range of quantization formats. The following types are most relevant for BitNet inference:</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="standard-types">Standard Types<a href="#standard-types" class="hash-link" aria-label="Direct link to Standard Types" title="Direct link to Standard Types" translate="no">​</a></h3>
<table><thead><tr><th>Type</th><th>ID</th><th>Block Size</th><th>Bytes/Block</th><th>Description</th></tr></thead><tbody><tr><td>F32</td><td>0</td><td>1</td><td>4</td><td>Full precision 32-bit float</td></tr><tr><td>F16</td><td>1</td><td>1</td><td>2</td><td>Half precision 16-bit float</td></tr><tr><td>BF16</td><td>30</td><td>1</td><td>2</td><td>Brain floating point 16-bit</td></tr><tr><td>Q8_0</td><td>8</td><td>32</td><td>34</td><td>8-bit quantization with scale</td></tr><tr><td>Q4_0</td><td>2</td><td>32</td><td>18</td><td>4-bit quantization with scale</td></tr><tr><td>Q4_1</td><td>3</td><td>32</td><td>20</td><td>4-bit quantization with scale and minimum</td></tr></tbody></table>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="bitnet-ternary-types">BitNet Ternary Types<a href="#bitnet-ternary-types" class="hash-link" aria-label="Direct link to BitNet Ternary Types" title="Direct link to BitNet Ternary Types" translate="no">​</a></h3>
<table><thead><tr><th>Type</th><th>ID</th><th>Block Size</th><th>Bytes/Block</th><th>Description</th></tr></thead><tbody><tr><td>I2_S</td><td>36</td><td>4</td><td>1</td><td>2-bit integer with scale; encodes ternary {-1, 0, +1} as 4 values per byte</td></tr><tr><td>TQ1_0</td><td>34</td><td>32</td><td>8</td><td>Pure ternary packed, no scale factor</td></tr><tr><td>TQ2_0</td><td>35</td><td>32</td><td>10</td><td>Ternary packed with 2-byte scale factor</td></tr><tr><td>TL1</td><td>38</td><td>4</td><td>1</td><td>BitNet TL1 format</td></tr><tr><td>TL2</td><td>39</td><td>4</td><td>1</td><td>BitNet TL2 format</td></tr></tbody></table>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="low-bit-quantization-types">Low-Bit Quantization Types<a href="#low-bit-quantization-types" class="hash-link" aria-label="Direct link to Low-Bit Quantization Types" title="Direct link to Low-Bit Quantization Types" translate="no">​</a></h3>
<table><thead><tr><th>Type</th><th>ID</th><th>Description</th></tr></thead><tbody><tr><td>IQ1_S</td><td>19</td><td>1-bit integer quantization with scale</td></tr><tr><td>IQ1_M</td><td>29</td><td>1-bit integer quantization (modified)</td></tr><tr><td>IQ2_XXS</td><td>16</td><td>Ultra-low 2-bit quantization</td></tr><tr><td>IQ2_XS</td><td>17</td><td>Extra-small 2-bit quantization</td></tr><tr><td>IQ2_S</td><td>22</td><td>2-bit integer quantization with scale</td></tr><tr><td>IQ3_XXS</td><td>18</td><td>Ultra-low 3-bit quantization</td></tr><tr><td>IQ3_S</td><td>21</td><td>3-bit integer quantization with scale</td></tr><tr><td>IQ4_NL</td><td>20</td><td>4-bit non-linear quantization</td></tr><tr><td>IQ4_XS</td><td>23</td><td>4-bit extra-small quantization</td></tr></tbody></table>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="ternary-weight-encoding">Ternary Weight Encoding<a href="#ternary-weight-encoding" class="hash-link" aria-label="Direct link to Ternary Weight Encoding" title="Direct link to Ternary Weight Encoding" translate="no">​</a></h2>
<p>For BitNet models using I2_S quantization, ternary weights are packed at 4 values per byte using 2-bit encoding:</p>
<table><thead><tr><th>Bit Pattern</th><th>Trit Value</th></tr></thead><tbody><tr><td><code>00</code></td><td>0</td></tr><tr><td><code>01</code></td><td>+1</td></tr><tr><td><code>10</code></td><td>-1</td></tr><tr><td><code>11</code></td><td>0 (unused)</td></tr></tbody></table>
<p>This encoding is read through a lookup table (<code>TRIT_LUT</code>) during inference, enabling efficient unpacking during the ternary matrix-vector multiply operation.</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="model-architecture-metadata">Model Architecture Metadata<a href="#model-architecture-metadata" class="hash-link" aria-label="Direct link to Model Architecture Metadata" title="Direct link to Model Architecture Metadata" translate="no">​</a></h2>
<p>Trinity reads the following architecture parameters from GGUF metadata to configure the inference engine:</p>
<table><thead><tr><th>Metadata Key</th><th>Example Value</th><th>Purpose</th></tr></thead><tbody><tr><td><code>n_layers</code> / <code>num_hidden_layers</code></td><td>30</td><td>Number of transformer layers</td></tr><tr><td><code>n_heads</code> / <code>num_attention_heads</code></td><td>20</td><td>Number of query attention heads</td></tr><tr><td><code>n_kv_heads</code> / <code>num_key_value_heads</code></td><td>5</td><td>Number of key-value heads (for GQA)</td></tr><tr><td><code>n_embd</code> / <code>hidden_size</code></td><td>2560</td><td>Hidden dimension size</td></tr><tr><td><code>intermediate_size</code></td><td>6912</td><td>Feed-forward intermediate dimension</td></tr><tr><td><code>vocab_size</code></td><td>128256</td><td>Vocabulary size for embedding/output</td></tr><tr><td><code>max_position_embeddings</code></td><td>4096</td><td>Maximum sequence length</td></tr><tr><td><code>rms_norm_eps</code></td><td>1e-5</td><td>RMSNorm epsilon for numerical stability</td></tr><tr><td><code>rope_theta</code></td><td>500000.0</td><td>Rotary position embedding base frequency</td></tr></tbody></table>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="rope-rotary-position-embeddings">RoPE (Rotary Position Embeddings)<a href="#rope-rotary-position-embeddings" class="hash-link" aria-label="Direct link to RoPE (Rotary Position Embeddings)" title="Direct link to RoPE (Rotary Position Embeddings)" translate="no">​</a></h2>
<p>The model uses Rotary Position Embeddings to encode token positions. The RoPE theta parameter (500000.0 for BitNet 2B) controls the frequency base for the sinusoidal position encoding. Higher theta values extend the effective context length. Trinity computes RoPE frequencies on-the-fly during the attention computation.</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="obtaining-compatible-models">Obtaining Compatible Models<a href="#obtaining-compatible-models" class="hash-link" aria-label="Direct link to Obtaining Compatible Models" title="Direct link to Obtaining Compatible Models" translate="no">​</a></h2>
<p>BitNet GGUF models can be obtained from the Hugging Face model hub. Look for models specifically quantized with I2_S or TQ1_0 quantization types. Models originally published in the Hugging Face Transformers format can be converted to GGUF using the conversion tools provided by the llama.cpp project, with explicit support for BitNet ternary quantization.</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col noPrint_WFHX"><a href="https://github.com/gHashTag/trinity/tree/main/docsite/docs/bitnet/model-format.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/trinity/docs/bitnet/inference"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Inference Pipeline</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/trinity/docs/hdc"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Hyperdimensional Computing</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#gguf-v3-file-structure" class="table-of-contents__link toc-highlight">GGUF v3 File Structure</a></li><li><a href="#metadata-value-types" class="table-of-contents__link toc-highlight">Metadata Value Types</a></li><li><a href="#supported-quantization-types" class="table-of-contents__link toc-highlight">Supported Quantization Types</a><ul><li><a href="#standard-types" class="table-of-contents__link toc-highlight">Standard Types</a></li><li><a href="#bitnet-ternary-types" class="table-of-contents__link toc-highlight">BitNet Ternary Types</a></li><li><a href="#low-bit-quantization-types" class="table-of-contents__link toc-highlight">Low-Bit Quantization Types</a></li></ul></li><li><a href="#ternary-weight-encoding" class="table-of-contents__link toc-highlight">Ternary Weight Encoding</a></li><li><a href="#model-architecture-metadata" class="table-of-contents__link toc-highlight">Model Architecture Metadata</a></li><li><a href="#rope-rotary-position-embeddings" class="table-of-contents__link toc-highlight">RoPE (Rotary Position Embeddings)</a></li><li><a href="#obtaining-compatible-models" class="table-of-contents__link toc-highlight">Obtaining Compatible Models</a></li></ul></div></div></div></div></main></div></div></div><footer class="theme-layout-footer footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/trinity/docs/getting-started/quickstart">Getting Started</a></li><li class="footer__item"><a class="footer__link-item" href="/trinity/docs/api">API Reference</a></li><li class="footer__item"><a class="footer__link-item" href="/trinity/docs/troubleshooting">Troubleshooting</a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/gHashTag/trinity" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://github.com/gHashTag/trinity/issues" target="_blank" rel="noopener noreferrer" class="footer__link-item">Issues<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/trinity/docs/contributing">Contributing</a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2026 Trinity Project. Built with Docusaurus.</div></div></div></footer></div>
</body>
</html>
# ═══════════════════════════════════════════════════════════════════════════════
# TRINITY COMPETITOR ANALYSIS
# Comparison with industry solutions
# φ² + 1/φ² = 3 = TRINITY
# ═══════════════════════════════════════════════════════════════════════════════

name: competitor_analysis
version: "1.0.0"
language: zig
module: competitor_analysis

# ═══════════════════════════════════════════════════════════════════════════════
# TYPES
# ═══════════════════════════════════════════════════════════════════════════════

types:
  Competitor:
    fields:
      name: String
      category: String        # runtime|api|framework|cloud
      language: String
      license: String
      github_stars: Int
      last_release: String

  FeatureComparison:
    fields:
      feature: String
      trinity_support: Bool
      trinity_notes: String
      competitors: String     # JSON map of competitor -> support

  PerformanceComparison:
    fields:
      metric: String
      trinity_value: Float
      trinity_unit: String
      competitor: String
      competitor_value: Float
      advantage_percent: Float
      source: String

  StrategicAdvantage:
    fields:
      category: String
      advantage: String
      description: String
      moat_strength: Int      # 1-5 scale

# ═══════════════════════════════════════════════════════════════════════════════
# COMPETITORS DATABASE
# ═══════════════════════════════════════════════════════════════════════════════

competitors:
  # LLM Runtimes
  - name: "llama.cpp"
    category: "runtime"
    language: "C++"
    license: "MIT"
    github_stars: 70000
    last_release: "2024-01"

  - name: "vLLM"
    category: "runtime"
    language: "Python"
    license: "Apache-2.0"
    github_stars: 30000
    last_release: "2024-01"

  - name: "Ollama"
    category: "runtime"
    language: "Go"
    license: "MIT"
    github_stars: 100000
    last_release: "2024-01"

  - name: "TensorRT-LLM"
    category: "runtime"
    language: "C++/Python"
    license: "Apache-2.0"
    github_stars: 8000
    last_release: "2024-01"

  # Cloud APIs
  - name: "OpenAI API"
    category: "api"
    language: "N/A"
    license: "Proprietary"
    github_stars: 0
    last_release: "N/A"

  - name: "Anthropic Claude"
    category: "api"
    language: "N/A"
    license: "Proprietary"
    github_stars: 0
    last_release: "N/A"

  - name: "Groq"
    category: "api"
    language: "N/A"
    license: "Proprietary"
    github_stars: 0
    last_release: "N/A"

  # Frameworks
  - name: "LangChain"
    category: "framework"
    language: "Python"
    license: "MIT"
    github_stars: 95000
    last_release: "2024-01"

  - name: "Hugging Face Transformers"
    category: "framework"
    language: "Python"
    license: "Apache-2.0"
    github_stars: 135000
    last_release: "2024-01"

# ═══════════════════════════════════════════════════════════════════════════════
# FEATURE COMPARISON MATRIX
# ═══════════════════════════════════════════════════════════════════════════════

feature_comparisons:
  - feature: "Pure Zig Implementation"
    trinity_support: true
    trinity_notes: "Zero C/C++ dependencies"
    competitors: '{"llama.cpp": false, "vLLM": false, "Ollama": false}'

  - feature: "GGUF Native Loading"
    trinity_support: true
    trinity_notes: "Custom parser, no llama.cpp"
    competitors: '{"llama.cpp": true, "vLLM": false, "Ollama": true}'

  - feature: "OpenAI-Compatible API"
    trinity_support: true
    trinity_notes: "/v1/chat/completions endpoint"
    competitors: '{"llama.cpp": true, "vLLM": true, "Ollama": true}'

  - feature: "Single Binary Deployment"
    trinity_support: true
    trinity_notes: "One executable, no runtime deps"
    competitors: '{"llama.cpp": true, "vLLM": false, "Ollama": true}'

  - feature: "Specification-First Development"
    trinity_support: true
    trinity_notes: ".vibee specs generate code"
    competitors: '{"llama.cpp": false, "vLLM": false, "Ollama": false}'

  - feature: "Mathematical Foundation"
    trinity_support: true
    trinity_notes: "φ² + 1/φ² = 3 identity"
    competitors: '{"llama.cpp": false, "vLLM": false, "Ollama": false}'

  - feature: "GPU Acceleration"
    trinity_support: false
    trinity_notes: "CPU-only currently"
    competitors: '{"llama.cpp": true, "vLLM": true, "Ollama": true}'

  - feature: "Quantization Support"
    trinity_support: true
    trinity_notes: "Q8_0 verified"
    competitors: '{"llama.cpp": true, "vLLM": true, "Ollama": true}'

# ═══════════════════════════════════════════════════════════════════════════════
# PERFORMANCE COMPARISONS
# ═══════════════════════════════════════════════════════════════════════════════

performance_comparisons:
  - metric: "binary_size"
    trinity_value: 2.5
    trinity_unit: "MB"
    competitor: "llama.cpp"
    competitor_value: 15.0
    advantage_percent: 500.0
    source: "Compiled binary comparison"

  - metric: "dependencies"
    trinity_value: 0.0
    trinity_unit: "count"
    competitor: "vLLM"
    competitor_value: 50.0
    advantage_percent: 100.0
    source: "pip freeze | wc -l"

  - metric: "startup_time_cold"
    trinity_value: 1.758
    trinity_unit: "seconds"
    competitor: "Ollama"
    competitor_value: 3.0
    advantage_percent: 41.0
    source: "Fly.io machine start logs"

  - metric: "model_load_time"
    trinity_value: 208.53
    trinity_unit: "seconds"
    competitor: "llama.cpp"
    competitor_value: 30.0
    advantage_percent: -595.0
    source: "1.7B model load comparison"

# ═══════════════════════════════════════════════════════════════════════════════
# STRATEGIC ADVANTAGES (MOAT)
# ═══════════════════════════════════════════════════════════════════════════════

strategic_advantages:
  - category: "Language"
    advantage: "Pure Zig"
    description: "No C/C++ toolchain required, compiles to single binary"
    moat_strength: 4

  - category: "Architecture"
    advantage: "Specification-First"
    description: ".vibee specs are single source of truth, code is generated"
    moat_strength: 5

  - category: "Philosophy"
    advantage: "Mathematical Foundation"
    description: "Trinity identity φ² + 1/φ² = 3 guides all design decisions"
    moat_strength: 3

  - category: "Deployment"
    advantage: "Cloud-Native"
    description: "Optimized for Fly.io, Docker, serverless"
    moat_strength: 3

  - category: "Simplicity"
    advantage: "Zero Dependencies"
    description: "No pip, npm, cargo - just Zig compiler"
    moat_strength: 4

# ═══════════════════════════════════════════════════════════════════════════════
# BEHAVIORS
# ═══════════════════════════════════════════════════════════════════════════════

behaviors:
  - name: get_competitor_by_name
    given: Competitor name
    when: Competitor info requested
    then: Return Competitor or null

  - name: list_competitors_by_category
    given: Category string
    when: Category filter requested
    then: Return array of Competitor

  - name: get_feature_matrix
    given: No input required
    when: Feature comparison requested
    then: Return array of FeatureComparison

  - name: get_performance_vs_competitor
    given: Competitor name
    when: Performance comparison requested
    then: Return array of PerformanceComparison

  - name: calculate_overall_advantage
    given: Competitor name
    when: Summary requested
    then: Return weighted advantage score

  - name: get_strategic_moat
    given: No input required
    when: Strategy analysis requested
    then: Return array of StrategicAdvantage sorted by moat_strength

  - name: identify_weaknesses
    given: No input required
    when: Gap analysis requested
    then: Return features where trinity_support is false
